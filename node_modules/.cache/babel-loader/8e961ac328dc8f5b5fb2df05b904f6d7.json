{"ast":null,"code":"import _objectSpread from\"c:/Users/Owner/Desktop/Nodejs/React/react-intro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"c:/Users/Owner/Desktop/Nodejs/React/react-intro/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import CartItem from'./CartItem';import'./Cart.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(_ref){var initialItems=_ref.initialItems;var initialState=JSON.parse(window.localStorage.getItem('items'));var _useState=useState(initialState||initialItems),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];useEffect(function(){window.localStorage.setItem('items',JSON.stringify(items));},[items]);var updateQty=function updateQty(id,newQty){var newItems=items.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},{qty:newQty});}return item;});setItems(newItems);};var grandTotal=items.reduce(function(total,item){return total+item.qty*item.price;},0).toFixed(2);return/*#__PURE__*/_jsxs(\"div\",{className:\"Cart\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"Cart-title\",children:\"\\u5546\\u54C1\\u30AB\\u30FC\\u30C8\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table is-hoverable\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u5546\\u54C1\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u5358\\u4FA1\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u3000\\u3000\\u6570\\u91CF\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"\\u91D1\\u984D\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item){return/*#__PURE__*/_jsx(CartItem,_objectSpread({updateQty:updateQty},item),item.id);})}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",style:{textAlign:'right'},children:\"\\u91D1\\u984D\\uFF1A\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"Cart-total\",children:[\"$\",grandTotal]})})]})})]})]});}export default Cart;","map":{"version":3,"sources":["c:/Users/Owner/Desktop/Nodejs/React/react-intro/a/src/Cart.js"],"names":["React","useState","useEffect","CartItem","Cart","initialItems","initialState","JSON","parse","window","localStorage","getItem","items","setItems","setItem","stringify","updateQty","id","newQty","newItems","map","item","qty","grandTotal","reduce","total","price","toFixed","textAlign"],"mappings":"2UAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAO,YAAP,C,wFAEA,QAASC,CAAAA,IAAT,MAAgC,IAAhBC,CAAAA,YAAgB,MAAhBA,YAAgB,CAC/B,GAAMC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAX,CAArB,CACA,cAA0BV,QAAQ,CAACK,YAAY,EAAID,YAAjB,CAAlC,wCAAOO,KAAP,eAAcC,QAAd,eAEAX,SAAS,CAAC,UAAM,CACfO,MAAM,CAACC,YAAP,CAAoBI,OAApB,CAA4B,OAA5B,CAAqCP,IAAI,CAACQ,SAAL,CAAeH,KAAf,CAArC,EACA,CAFQ,CAEN,CAACA,KAAD,CAFM,CAAT,CAIA,GAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,EAAD,CAAKC,MAAL,CAAgB,CACjC,GAAMC,CAAAA,QAAQ,CAAGP,KAAK,CAACQ,GAAN,CAAU,SAACC,IAAD,CAAU,CACpC,GAAIA,IAAI,CAACJ,EAAL,GAAYA,EAAhB,CAAoB,CACnB,sCAAYI,IAAZ,MAAkBC,GAAG,CAAEJ,MAAvB,GACA,CACD,MAAOG,CAAAA,IAAP,CACA,CALgB,CAAjB,CAMAR,QAAQ,CAACM,QAAD,CAAR,CACA,CARD,CAUA,GAAMI,CAAAA,UAAU,CAAGX,KAAK,CACtBY,MADiB,CACV,SAACC,KAAD,CAAQJ,IAAR,QAAiBI,CAAAA,KAAK,CAAGJ,IAAI,CAACC,GAAL,CAAWD,IAAI,CAACK,KAAzC,EADU,CACsC,CADtC,EAEjBC,OAFiB,CAET,CAFS,CAAnB,CAIA,mBACC,aAAK,SAAS,CAAC,MAAf,wBACC,WAAI,SAAS,CAAC,YAAd,4CADD,cAEC,eAAO,SAAS,CAAC,oBAAjB,wBACC,oCACC,mCACC,WAAI,KAAK,CAAC,KAAV,0BADD,cAEC,WAAI,KAAK,CAAC,KAAV,0BAFD,cAGC,WAAI,KAAK,CAAC,KAAV,sCAHD,cAIC,WAAI,KAAK,CAAC,KAAV,0BAJD,GADD,EADD,cAUC,uBACGf,KAAK,CAACQ,GAAN,CAAU,SAACC,IAAD,CAAU,CACpB,mBAAO,KAAC,QAAD,gBAAwB,SAAS,CAAEL,SAAnC,EAAkDK,IAAlD,EAAeA,IAAI,CAACJ,EAApB,CAAP,CACA,CAFA,CADH,EAVD,cAgBC,oCACC,mCACC,WAAI,KAAK,CAAC,KAAV,EADD,cAEC,WAAI,KAAK,CAAC,KAAV,EAFD,cAGC,WAAI,KAAK,CAAC,KAAV,CAAgB,KAAK,CAAE,CAACW,SAAS,CAAE,OAAZ,CAAvB,gCAHD,cAIC,WAAI,KAAK,CAAC,KAAV,uBACC,YAAI,SAAS,CAAC,YAAd,eAA6BL,UAA7B,GADD,EAJD,GADD,EAhBD,GAFD,GADD,CAiCA,CAED,cAAenB,CAAAA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport CartItem from './CartItem'\nimport './Cart.css'\n\nfunction Cart({ initialItems }) {\n\tconst initialState = JSON.parse(window.localStorage.getItem('items'))\n\tconst [items, setItems] = useState(initialState || initialItems)\n\n\tuseEffect(() => {\n\t\twindow.localStorage.setItem('items', JSON.stringify(items))\n\t}, [items])\n\n\tconst updateQty = (id, newQty) => {\n\t\tconst newItems = items.map((item) => {\n\t\t\tif (item.id === id) {\n\t\t\t\treturn { ...item, qty: newQty }\n\t\t\t}\n\t\t\treturn item\n\t\t})\n\t\tsetItems(newItems)\n\t}\n\n\tconst grandTotal = items\n\t\t.reduce((total, item) => total + item.qty * item.price, 0)\n\t\t.toFixed(2)\n\n\treturn (\n\t\t<div className=\"Cart\">\n\t\t\t<h1 className=\"Cart-title\">商品カート</h1>\n\t\t\t<table className=\"table is-hoverable\">\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\">商品</th>\n\t\t\t\t\t\t<th scope=\"col\">単価</th>\n\t\t\t\t\t\t<th scope=\"col\">　　数量</th>\n\t\t\t\t\t\t<th scope=\"col\">金額</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\t\t\t\t\t\t{items.map((item) => {\n\t\t\t\t\t\t\treturn <CartItem key={item.id} updateQty={updateQty} {...item} />\n\t\t\t\t\t\t})}\n\t\t\t\t</tbody>\n\n\t\t\t\t<tfoot>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th scope=\"col\"></th>\n\t\t\t\t\t\t<th scope=\"col\"></th>\n\t\t\t\t\t\t<th scope=\"col\" style={{textAlign: 'right'}}>金額：</th>\n\t\t\t\t\t\t<th scope=\"col\">\n\t\t\t\t\t\t\t<h2 className=\"Cart-total\">${grandTotal}</h2>\n\t\t\t\t\t\t</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</tfoot>\n\t\t\t</table>\n\n\t\t</div>\n\t)\n}\n\nexport default Cart\n"]},"metadata":{},"sourceType":"module"}